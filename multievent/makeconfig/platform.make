##
# 编译环境相关设置
# 
# platform.make
#
#

# ----------------------------------------------------------
# 获取系统类型
# ----------------------------------------------------------
ME_SYSTEM = $(shell uname -s)

# ----------------------------------------------------------
# 获取系统版本号
# ----------------------------------------------------------
ME_SYSTEM_RELEASE = $(shell uname -r)

# ----------------------------------------------------------
# 是否为linux操作系统(目前只支持linux)
# ----------------------------------------------------------
ifeq ($(ME_SYSTEM), Linux)
  ME_LINUX = 1
endif

# ----------------------------------------------------------
# 编译器定义
# ----------------------------------------------------------
CC = gcc
CPP = g++

# ----------------------------------------------------------
# 链接定义
# ----------------------------------------------------------
LD = $(CXX)
BIN = $(CXX)

# ----------------------------------------------------------
# 预定义宏
# ----------------------------------------------------------
ME_PRE_DEFINE_THREAD = -D_REENTRANT
ME_DEFAULT_GNU_FILE = -D_GNU_SOURCE

# ----------------------------------------------------------
# 编译参数
# ----------------------------------------------------------
ME_COMPILE_DEBUG = -g
ME_COMPILE_PROFILE = -pg
ME_COMPILE_OPTIMIZE = -O3
ME_COMPILE_PIPE = -pipe
ME_COMPILE_NOT_LINK = -c
ME_COMPILE_WARNING = -Wall
ME_COMPILE_64_BIT = -m64
ME_COMPILE_INCLUDE_DIR = -I
ME_COMPILE_DEFINE = -D
ME_COMPILE_C11 = -std=c++11

# ----------------------------------------------------------
# link(打包)定义
# ----------------------------------------------------------
AR = ar

# ----------------------------------------------------------
# link(打包)参数
# ----------------------------------------------------------
ME_LINK_LIB = rsuv
ME_LINK_64_BIT = -m64
ME_LINK_SHARED = -shared
ME_LINK_PIC = -fPIC
ME_LINK_DIR = -L
ME_LINK_TARGET = -l

# ----------------------------------------------------------
# link(打包)库
# ----------------------------------------------------------
ME_LINK_DL = $(shell test -e /usr/lib/libdl.so && echo -ldl)
ME_LINK_NSL = $(shell test -e /usr/lib/libnsl.so && echo -lnsl)
ME_LINK_RESOLVE = $(shell test -e /usr/lib/libresolv.so && echo -lresolv)
ME_LINK_PTHREAD = $(shell test -e /usr/lib/libpthread.so && echo -lpthread)
ME_LINK_RT = $(shell test -e /usr/lib/librt.so && echo -lrt)

# ----------------------------------------------------------
# 输出参数
# ----------------------------------------------------------
ME_OUTPUT = -o

# ----------------------------------------------------------
# 源文件文件后缀名
# ----------------------------------------------------------
ME_FILE_EXT_SRC ?= cpp

# ----------------------------------------------------------
# obj文件后缀名
# ----------------------------------------------------------
ME_FILE_EXT_OBJ ?= o

# ----------------------------------------------------------
# 静态库后缀名
# ----------------------------------------------------------
ME_FILE_EXT_LIB ?= a

# ----------------------------------------------------------
# 动态库输出参数
# ----------------------------------------------------------
ME_FILE_EXT_DLL ?= so

# ----------------------------------------------------------
# 系统库目录
# ----------------------------------------------------------
ME_SYS_LIBS_FOLDER ?= /usr/lib

# ----------------------------------------------------------
# 文件删除
# ----------------------------------------------------------
RM = -rm -rf

# ----------------------------------------------------------
# 文件拷贝
# ----------------------------------------------------------
CP = -cp

# ----------------------------------------------------------
# 改变文件访问权限
# ----------------------------------------------------------
CHMOD = -chmod a+r




